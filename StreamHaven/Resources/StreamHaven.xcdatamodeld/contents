<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<model lastSavedToolsVersion="16700" userDefinedModelVersionIdentifier="v2_denormalization" type="com.apple.IDECoreDataModeler.DataModel" documentVersion="1.0" minimumToolsVersion="1.0">
    <entity name="Channel" representedClassName="Channel" syncable="YES">
        <attribute name="logoURL" type="String"/>
        <attribute name="name" type="String" userInfo="spotlight=true"/>
        <attribute name="tvgID" optional="YES" attributeType="String"/>
            <attribute name="variantCount" optional="YES" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
            <attribute name="hasEPG" optional="YES" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
            <attribute name="currentProgramTitle" optional="YES" attributeType="String"/>
            <attribute name="epgLastUpdated" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="variants" toMany="YES" destination="ChannelVariant" inverseName="channel"/>
        <relationship name="favorite" toMany="NO" toOne="YES" destination="Favorite" inverseName="channel"/>
        <relationship name="epgEntries" optional="YES" toMany="YES" deletionRule="Cascade" destination="EPGEntry" inverseName="channel"/>
    </entity>
    <entity name="ChannelVariant" representedClassName="ChannelVariant" syncable="YES">
        <attribute name="name" type="String"/>
        <attribute name="streamURL" type="String"/>
        <relationship name="channel" toMany="NO" toOne="YES" destination="Channel" inverseName="variants"/>
    </entity>
    <entity name="Episode" representedClassName="Episode" syncable="YES">
        <attribute name="episodeNumber" type="Integer 16"/>
        <attribute name="summary" type="String"/>
        <attribute name="title" type="String" userInfo="spotlight=true"/>
        <attribute name="streamURL" type="String"/>
        <relationship name="season" toMany="NO" toOne="YES" destination="Season" inverseName="episodes"/>
        <relationship name="watchHistory" toMany="NO" toOne="YES" destination="WatchHistory" inverseName="episode"/>
    </entity>
    <entity name="Favorite" representedClassName="Favorite" syncable="YES">
        <attribute name="favoritedDate" type="Date"/>
        <relationship name="profile" toMany="NO" toOne="YES" destination="Profile" inverseName="favorites"/>
        <relationship name="movie" toMany="NO" toOne="YES" destination="Movie" inverseName="favorite"/>
        <relationship name="series" toMany="NO" toOne="YES" destination="Series" inverseName="favorite"/>
        <relationship name="channel" toMany="NO" toOne="YES" destination="Channel" inverseName="favorite"/>
    </entity>
    <entity name="Movie" representedClassName="Movie" syncable="YES">
        <attribute name="imdbID" optional="YES" attributeType="String"/>
        <attribute name="posterURL" type="String"/>
        <attribute name="rating" type="String"/>
        <attribute name="releaseDate" type="Date"/>
        <attribute name="summary" type="String"/>
        <attribute name="streamURL" type="String"/>
        <attribute name="title" type="String" userInfo="spotlight=true"/>
            <attribute name="hasBeenWatched" optional="YES" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
            <attribute name="watchProgressPercent" optional="YES" attributeType="Integer 16" defaultValueString="0" usesScalarValueType="YES"/>
            <attribute name="isFavorite" optional="YES" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
            <attribute name="lastWatchedDate" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="watchHistory" toMany="NO" toOne="YES" destination="WatchHistory" inverseName="movie"/>
        <relationship name="favorite" toMany="NO" toOne="YES" destination="Favorite" inverseName="movie"/>
    </entity>
    <entity name="EPGEntry" representedClassName="EPGEntry" syncable="YES">
        <attribute name="category" optional="YES" attributeType="String"/>
        <attribute name="descriptionText" optional="YES" attributeType="String"/>
        <attribute name="endTime" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="startTime" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="title" attributeType="String"/>
        <relationship name="channel" optional="YES" maxCount="1" deletionRule="Nullify" destination="Channel" inverseName="epgEntries"/>
    </entity>
    <entity name="PlaylistCache" representedClassName="PlaylistCache" syncable="YES">
        <attribute name="epgURL" optional="YES" attributeType="String"/>
        <attribute name="filePath" type="String"/>
        <attribute name="lastRefreshed" type="Date"/>
        <attribute name="url" type="String"/>
    </entity>
    <entity name="Profile" representedClassName="Profile" syncable="YES">
        <attribute name="isAdult" type="Boolean"/>
        <attribute name="name" type="String"/>
        <relationship name="favorites" toMany="YES" destination="Favorite" inverseName="profile"/>
        <relationship name="watchHistory" toMany="YES" destination="WatchHistory" inverseName="profile"/>
    </entity>
    <entity name="Season" representedClassName="Season" syncable="YES">
        <attribute name="seasonNumber" type="Integer 16"/>
        <attribute name="summary" type="String"/>
        <relationship name="episodes" toMany="YES" destination="Episode" inverseName="season"/>
        <relationship name="series" toMany="NO" toOne="YES" destination="Series" inverseName="seasons"/>
    </entity>
    <entity name="Series" representedClassName="Series" syncable="YES">
        <attribute name="posterURL" type="String"/>
        <attribute name="rating" type="String"/>
        <attribute name="releaseDate" type="Date"/>
        <attribute name="summary" type="String"/>
        <attribute name="title" type="String" userInfo="spotlight=true"/>
            <attribute name="totalEpisodeCount" optional="YES" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
            <attribute name="seasonCount" optional="YES" attributeType="Integer 16" defaultValueString="0" usesScalarValueType="YES"/>
            <attribute name="isFavorite" optional="YES" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
            <attribute name="unwatchedEpisodeCount" optional="YES" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <relationship name="seasons" toMany="YES" destination="Season" inverseName="series"/>
        <relationship name="favorite" toMany="NO" toOne="YES" destination="Favorite" inverseName="series"/>
    </entity>
    <entity name="WatchHistory" representedClassName="WatchHistory" syncable="YES">
        <attribute name="progress" type="Float"/>
        <attribute name="watchedDate" type="Date"/>
        <relationship name="profile" toMany="NO" toOne="YES" destination="Profile" inverseName="watchHistory"/>
        <relationship name="movie" toMany="NO" toOne="YES" destination="Movie" inverseName="watchHistory"/>
        <relationship name="episode" toMany="NO" toOne="YES" destination="Episode" inverseName="watchHistory"/>
    </entity>
</model>
